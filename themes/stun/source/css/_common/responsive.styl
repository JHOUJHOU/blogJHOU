// $main-width: A calc value.
// -----------------------------------------
@media (min-width: $main-width + $main-side-gap * 2) {
  if (hexo-config('sidebar.enable')) {
    .header-nav-inner {
      width: $main-width;
    }
  }

  .main-inner {
    width: $main-width;
  }
}

// $md-width: 992px - 0.02px
// -----------------------------------------
@media (min-width: $md-width) {
  if (!hexo-config('sidebar.enable')) {
    .header-nav-inner {
      width: $md-width;
    }
  }

  .header-nav-menu {
    display: inline-block !important;
    opacity: 1 !important;
  }
}

@media (max-width: $md-width) {
  .header-inner {
    height: 340px;
  }

  .main {
    margin: 1rem 0;
  }

  .content-wrap {
    width: 100%;
  }

  if (hexo-config('sidebar.enable')) {
    .sidebar {
      display: none;
    }
  }

  .post-list .post {
    margin: 0 0 1rem;
    padding: 1rem;
  }

  .header-nav-btn {
    display: block;
    float: left;
  }

  menuItemHover(txtColor, bgColor) {
    transition: color .2s ease, background-color .2s ease;

    &:hover {
      color: txtColor;
      background-color: bgColor;
    }
  }

  .header-nav-menu {
    overflow: hidden;
    position: absolute;
    top: header-nav-height;
    right: 0;
    left: 0;
    width: auto;
    height: auto;
    background-color: $header-nav-bg-color;

    &-item {
      float: none;
      overflow: hidden;
      margin: 0;
      menuItemHover(#f4f5f5, $blue-light);

      &__a {
        padding: 0 1.5rem;
        text-align: left;
        color: #f4f5f5;
        user-select: none;
        menuItemHover(#f4f5f5, $blue-light);
      }
    }
  }

  .header-nav-submenu {
    display: block;
    position: initial;
    width: 100%;

    &-item {
      text-align: left;

      &__a {
        padding: 0 1rem 0 3rem;
        menuItemHover(#f4f5f5, #7ccbff);
      }
    }
  }
}

// sm-width: 768px - 0.02px
// -----------------------------------------
@media (max-width: $sm-width) {
  .header-info-title {
    font-size: 3rem;
  }

  .header-info-subtitle {
    font-size: .9rem;
  }

  if (hexo-config('algolia_search.enable') || hexo-config('local_search.enable')) {
    .search-popup {
      top: 0;
      left: 0;
      margin: 0;
      border-radius: 0;
      width: 100%;
      height: 100vh;
      max-height: 100vh;
    }

    .search-results {
      max-height: 'calc(100vh - %s)' % search-results-height;
    }
  }
}

// xs-width: 576px - 0.02px
// -----------------------------------------
@media (max-width: $xs-width) {
  .header-inner {
    height: 260px;
  }

  .header-info-title {
    font-size: 1.8rem;
  }

  .header-info-subtitle {
    font-size: $font-size-base;
  }

  .main-inner {
    width: 100%;
  }

  .content,
  .comments {
    padding: .6rem .8rem;
    font-size: $font-size-base + 1px;
  }

  .archive {
    margin-left: .5rem;

    &-total {
      padding-left: 1rem;
    }
  }

  .post-timeline {
    &-item {
      padding-left: 1rem;
    }
  }

  if (hexo-config('algolia_search.enable') || hexo-config('local_search.enable')) {
    .header-nav-search {
      span {
        display: none;
      }
    }
  }

  .post-list .post {
    margin: 0 0 .8rem;
    padding: .8rem;
  }

  if (hexo-config('algolia_search.enable')) {
    .algolia-hit-item {
      margin: 0;
    }
  }

  if (hexo-config('gallery_waterfall.enable')) {
    .gallery__img {
      width: 100%;
    }
  }

  .friends-plugin {
    &__item {
      margin: 0;
      padding: .5rem 1rem;
      width: 100%;
    }
  }
}
